(()=>{"use strict";const e=document.querySelector("#btn"),r=document.querySelector("#textArea"),t=document.querySelector(".summary"),n=document.querySelector(".categories-grid"),o=document.querySelector(".city-name"),c=document.querySelector(".score-tot");let s;document.querySelector(".title-box"),document.querySelector(".box");const i=function(){var e;c.style.backgroundColor="transparent",e=r.value,s=e.trim().toLowerCase().replace(" ","-"),o.innerHTML="",c.innerHTML="",fetch(`https://api.teleport.org/api/urban_areas/slug:${s}/scores/`).then((e=>{if(!e.ok)throw new Error("City not found (the name must be written in English, thanks)");return e.json()})).then((e=>{if(o.innerHTML=`${s.toUpperCase()}: `,c.innerHTML=`${e.teleport_city_score.toFixed(1)}`,c.style.backgroundColor="rgb(0, 119, 255)",n.innerHTML="",!e.categories)throw new Error("Something went wrong ðŸ’¥ Retry please");e.categories.forEach(((e,r)=>{const t=`<div class="box-cat">\n\n          <div class="title-vote">  <span class="vote" style = "background-color: ${e.color}"> ${e.score_out_of_10.toFixed(1)} </span> ${e.name} </div>\n          \n          <div class="full-bar">\n            <div class="percent-bar" style = "background-color: ${e.color}; width: ${10*e.score_out_of_10.toFixed(1)}%"></div>\n          </div>\n  \n        </div>`;n.insertAdjacentHTML("beforeend",t)})),t.innerHTML="",e.summary?t.insertAdjacentHTML("afterbegin",e.summary):t.innerHTML="",o.scrollIntoView({behavior:"smooth"}),r.value=""})).catch((e=>{c.style.backgroundColor="transparent",c.innerHTML="",o.innerHTML="",t.innerHTML="",n.innerHTML="",t.innerHTML=`<p style='color:red; font-size:1.5rem;''>${e}</p>`}))};e.addEventListener("click",i),r.addEventListener("keypress",(function(e){"Enter"===e.key&&i()}))})();