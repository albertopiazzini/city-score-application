(()=>{"use strict";const e=document.querySelector("#btn"),t=document.querySelector("#textArea"),r=document.querySelector(".summary"),n=document.querySelector(".categories-grid"),o=document.querySelector(".city-name"),c=document.querySelector(".score-tot");let i;document.querySelector(".title-box"),document.querySelector(".box");const s=function(){var e;e=t.value,i=e.trim().toLowerCase().replace(" ","-"),o.innerHTML="",c.innerHTML="",fetch(`https://api.teleport.org/api/urban_areas/slug:${i}/scores/`).then((e=>{if(!e.ok)throw new Error("City not found (the name must be written in English, thanks)");return e.json()})).then((e=>{if(o.innerHTML=`${i.toUpperCase()}: `,c.innerHTML=`${e.teleport_city_score.toFixed(1)}`,n.innerHTML="",!e.categories)throw new Error("Something went wrong ðŸ’¥ Retry please");e.categories.forEach(((e,t)=>{const r=`<div class="box-cat">\n\n          <div class="title-vote">  <span class="vote" style = "background-color: ${e.color}"> ${e.score_out_of_10.toFixed(1)} </span> ${e.name} </div>\n          \n          <div class="full-bar">\n            <div class="percent-bar" style = "background-color: ${e.color}; width: ${10*e.score_out_of_10.toFixed(1)}%"></div>\n          </div>\n  \n        </div>`;n.insertAdjacentHTML("beforeend",r)})),r.innerHTML="",e.summary?r.insertAdjacentHTML("afterbegin",e.summary):r.innerHTML="",o.scrollIntoView({behavior:"smooth"}),t.value=""})).catch((e=>{c.innerHTML="",o.innerHTML="",r.innerHTML="",n.innerHTML="",r.innerHTML=`<p style='color:red; font-size:1.5rem;''>${e}</p>`}))};e.addEventListener("click",s),t.addEventListener("keypress",(function(e){"Enter"===e.key&&s()}))})();